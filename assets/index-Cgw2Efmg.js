import{q as p,s as R,b1 as h,b2 as x,b3 as N,b4 as B,b5 as O,r as g,w as E,f as P,P as k,b6 as F,b7 as S,d as D,e as A,h as m,i as U,_ as I,u as _,M as l,a3 as V}from"./index-CDmsQ_GZ.js";function C(o,n={}){const t=p(),e=(t==null?void 0:t.proxy)||{};function s(c,i={}){R.report(c,{...i,...n})}s(o,{a:e.a})}var G={VUE_APP_BASE_URL:"https://arab-pk.badambiz.com/",VUE_APP_ENV:"production",VUE_APP_LANGUAGE:"ar",VUE_APP_PROJ_NAME:"",VUE_APP_DEPLOY_SERVER:"ar",VUE_APP_DEPLOY_SERVER_DIST:"",VUE_APP_PROXY_URL:"https://test20-pk.badambiz.com/",VUE_APP_PUBLIC_PATH:"/",VUE_APP_CDN_PATH:"https://sawa-official.github.io/",VUE_APP_TRANSLATE_PROJ:"sawa-h5",VUE_APP_TRANSLATE_SHEET:"sawa官网优化",VUE_APP_TRANSLATE_DOCUMENT:"",VUE_APP_TRANSLATE_SHEET_LANG:"",VUE_APP_FLAVOR:"ksa",VUE_APP_DEPLOY:"github",VUE_APP_SUFFIX:"mobile",VUE_APP_CWD:"代表项目本地根目录不要尝试改变这个值否则你会被炒鱿鱼",VUE_APP_EXTERNALS:"",VUE_APP_ICON:"https://oss-pk-arab.badambiz.com/4c9334bb9c4d7bd3389f9ac272dcf7dc_logo_ksa.ico",VUE_APP_TITLE:"SawaKSA",VUE_APP_SOURCEMAP:"false",VUE_APP_DISABLE_CSS_MODULE:"false",VUE_APP_RELEASE_URL:"https://arab-pk-release.badambiz.com/",VUE_APP_DIST:"dist/mobile",VUE_APP_VERSION:"1.0.333",VITE_APP_TEST:1,VUE_APP_NO_GEN_INDEX_HTML:"true",VUE_APP_FLAVOR2:"ludo",VUE_APP_WEBSITE_VERSION:"1.0.333"};const w=!!G.VUE_APP_RUN_UNIT_TEST;var y=(o=>(o[o.Google=1]="Google",o[o.Facebook=2]="Facebook",o[o.Account=3]="Account",o[o.Ticket=4]="Ticket",o))(y||{});async function M(o,...n){switch(o){case 1:return $(...n);case 2:return j(...n);case 3:return d(...n);case 4:return H(...n);default:h({err:"unknown login type",data:o})}}const r={display_uid:142059725,password:111111};async function $(o,n=w){return n?d(r.display_uid.toString(),r.password.toString()):x(o)}async function j(o,n,t=w){return t?d(r.display_uid.toString(),r.password.toString()):N(o,n)}async function H(o,n=w){return n?d(r.display_uid.toString(),r.password.toString()):B(o)}async function d(o,n){return O(o,n)}function z(){E("home",p()),P(()=>{console.log("test onMounted"),C("test_report_ow",{is_a:!1}),setTimeout(()=>{var o,n,t;console.log("v1ref",u.value,(o=u.value)==null?void 0:o.triggerError),(t=(n=u.value)==null?void 0:n.triggerError)==null||t.call(n,"test error")},1e3)})}function X(){console.log("say hello")}const Y={sayHello:X};async function J(o){console.log("google login tokan",o);const n=await M(y.Google,o);console.log("google login userInfo",n),k("onGoogleLogin"+o)}const K=g("v1"),W=g(""),u=g(null),q={};function Q(){const o=p(),n=S(),t=n.compId?"google_login_btn_".concat(n.compId):"google_login_btn";return E(t,o),n}function Z(){const o=Q(),n=g(),t={},e="https://apis.google.com/js/platform.js",s="532022495714-s5hikassju5bdbsmsfc277pt4ro2ff9l.apps.googleusercontent.com";async function c(a){if(!window.gapi)throw k("google sdk not ready"),new Error("gapi not found");return new Promise(v=>{window.gapi.load("auth2",()=>{const b=window.gapi.auth2.init({client_id:s});b&&b.attachClickHandler(a,{},f=>{const{id_token:L}=f.getAuthResponse();o.click(L)},f=>{console.warn(JSON.stringify(f,void 0,2))}),v(!0)})})}async function i(){if(await D.addDynamicScript(e),!window.gapi)return i()}async function T(a){await i(),await c(a)}return P(()=>{if(n.value){const a=n.value;T(a)}}),F(()=>{}),{expose:t,btnRef:n,...q}}const oo=A({__name:"index",props:{compId:{},click:{type:Function}},setup(o,{expose:n}){const{btnRef:t,expose:e}=Z();return n(e),(s,c)=>(m(),U("div",{class:"google-login-btn",ref_key:"btnRef",ref:t,id:"google-login-btn"},null,512))}}),no=I(oo,[["__scopeId","data-v-39624a28"]]);function to(){const o=p(),n=S(),t=n.compId?"input_".concat(n.compId):"input";return E(t,o),n}function eo(){const o=to();async function n(){const c=await co();o.click(c)}const t={login2:n},e={logOut:io};P(()=>{so()});const s=o.isTest?{...t,...e}:e;return{...t,expose:s}}function so(){(function(o,n,t){let e,s=o.getElementsByTagName(n)[0];o.getElementById(t)||(e=o.createElement(n),e.id=t,e.src="https://connect.facebook.net/en_US/sdk.js",s&&s.parentNode.insertBefore(e,s))})(document,"script","facebook-jssdk"),window.fbAsyncInit=function(){window.FB.init({appId:"462662855828218",xfbml:!0,version:"v6.0"}),window.FB.AppEvents.logPageView()}}async function co(){return new Promise(o=>{var n;(n=window.FB)==null||n.login(t=>{const{authResponse:e}=t;if(e){const{accessToken:s,userID:c}=e;o({accessToken:s,userID:c})}})})}function io(o){console.log("logOut"),o=o||function(){};try{window.FB.logout(o)}catch(n){console.error("FB logout error:",n)}}const ro=A({__name:"index",props:{compId:{},isTest:{type:Boolean},click:{type:Function}},setup(o,{expose:n}){const{expose:t,login2:e}=eo();return n(t),(s,c)=>(m(),U("div",{class:"facebook-login-btn",onClick:c[0]||(c[0]=(...i)=>_(e)&&_(e)(...i))}))}}),ao=I(ro,[["__scopeId","data-v-da8c36a2"]]),_o={class:"test-c"},uo=A({__name:"index",props:{compId:{}},setup(o,{expose:n}){return z(),n(Y),(t,e)=>(m(),U("div",_o,[l(V,{class:"my-input",value:_(K),ref_key:"v1ref",ref:u},null,8,["value"]),l(V,{class:"my-input input-2",value:_(W),"icon-class":"icon-2"},null,8,["value"]),l(no,{style:{marginTop:"20px"},click:_(J)},null,8,["click"]),l(ao,{style:{marginTop:"20px"},click:t.onFBLogin},null,8,["click"])]))}});export{uo as default};
