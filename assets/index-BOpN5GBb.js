import{g as H,c as z,d as n,a as U,b as j,e as M,r as l,o as O,p as V,f as W,h as a,i,j as e,u as r,t as f,n as b,k as c,l as x,m as P,_ as L}from"./index-CDmsQ_GZ.js";import{i as $}from"./index-wgEUtP49.js";const R="https://arab-pk.badambiz.com",G=p=>H("".concat(R,"/api/room/get_share_detail/"),{info:p});function J(){function p(s){const m=n.getPlatform();if(m.isPc)return;const g=window.innerWidth;if(Math.min(window.screen.height,window.innerHeight)<5){setTimeout(()=>{p(s)},16);return}const v=Number((g/s).toFixed(3)),w=document.getElementById("viewport-config");w.name="viewport",w.content="width=device-width,initial-scale=".concat(v,",user-scalable=no,maximum-scale=").concat(v,",minimum-scale=").concat(v,",viewport-fit=cover"),document.documentElement.style.width="".concat(s,"px"),m.isIPhone?document.documentElement.style.height="100%":document.documentElement.style.height="".concat(window.innerHeight,"px")}p(750);const t=n.getArgsFromUrl("r");function T(){n.getPlatform().isAndroid?U():j()}function E(){const{origin:s}=window.location;if(s.indexOf("sawa-are")>=0)window.location.href="sawa://live_room?room_id=".concat(t);else{const m=B();window.location.href="".concat(m,"://live_room?room_id=").concat(t)}}let h=0;function _(){const s=document.createElement("iframe"),{body:m}=document;s.style.cssText="position:absolute;width:1px;height:1px;",window.location.origin.indexOf("sawa-are")>=0?s.src="sawa://live_room?room_id=".concat(t):s.src="".concat(B(),"://live_room?room_id=").concat(t),m.appendChild(s),clearTimeout(h),h=setTimeout(()=>{T()},1500)}u.value.class==="diwania"||$||(n.getPlatform().isAndroid?_():E())}const u=z(()=>n.getArgsFromUrl("ludo")?{class:"jackaroo",name:"Sawa Jackaroo"}:n.getArgsFromUrl("video")?{class:"diwania",name:"Diwania"}:{class:"sawa",name:"Sawa"});function B(){return n.getArgsFromUrl("ludo")||u.value.class==="jackaroo"?"sawaludo":u.value.class==="diwania"?"sawavideo":"sawaksa"}const q={style:{overflow:"scroll",height:"100%"}},K={class:"header"},Q={key:0,class:"logoC"},X={class:"text"},Y={key:1,class:"logo-weyay"},Z={class:"new-share",id:"new-share"},ee={key:0,class:"bottom"},oe={class:"title",dir:"auto"},te={class:"card"},se={key:0,class:"head-r"},ae={key:1,class:"dot-c"},ie={key:0,class:"icon5"},ne={class:"name",dir:"auto"},le={class:"num"},re={key:0,class:"home-icon"},de={key:1},ce={key:0,class:"icon1"},ue={key:1,class:"icon7"},me={key:3,class:"room-card"},ve={class:"room-name"},fe={class:"room-name-top",dir:"auto"},pe={class:"room-name-bottom"},_e={class:"breath"},we=M({__name:"index",setup(p){const t=l(!1),T=l(0),E=l(0),h=l(""),_=l(""),s=l(""),m=l(""),g=l(0),F=l(0),v=l(""),w=l(""),I=l(""),C=l(0),A=l(!1);O(async()=>{await V(),J()}),W(async()=>{S()});async function S(){const y=n.getArgsFromUrl("info");if(y){const[o,{result:k,data:d,message:he}]=await G(y);o&&k===0&&(_.value=d.room_avatar,_.value=_.value.replace(/ /g,"+"),E.value=d.room_level,h.value=d.room_user_nickname,T.value=d.room_user_duid,s.value=d.room_id,m.value=d.uid,v.value=d.avatar,w.value=d.display_uid,I.value=d.nickname,d.room_id&&(t.value=!0))}document.addEventListener("visibilitychange",()=>{document.visibilityState!=="visible"&&(console.log("不可见了"),clearTimeout(g.value),clearTimeout(F.value))}),setTimeout(()=>{var o;document.getElementById("new-share")&&(C.value=(o=document.getElementById("new-share"))==null?void 0:o.scrollHeight,setTimeout(()=>{A.value=!0}))},500)}function N(){n.getPlatform().isAndroid?U():j()}function D(){n.getArgsFromUrl("ludo"),clearTimeout(g.value);const{origin:y}=window.location,o=B();if(y.indexOf("sawa-are")>=0)window.location.href="sawa://live_room?room_id=".concat(s.value);else if(n.getPlatform().isAndroid){const k=document.createElement("iframe"),{body:d}=document;k.style.cssText="position:absolute;width:1px;height:1px;",k.src="".concat(o,"://live_room?room_id=").concat(s.value),d.appendChild(k)}else window.location.href="".concat(o,"://live_room?room_id=").concat(s.value);g.value=setTimeout(()=>{u.value.class==="diwania"||$||N()},1e3)}return(y,o)=>(a(),i("div",q,[e("div",K,[r($)?(a(),i("div",Y)):(a(),i("div",Q,[e("div",X,f(r(u).name),1),e("div",{class:b(["logo",["".concat(r(u).class)]])},null,2)]))]),e("div",Z,[o[6]||(o[6]=e("div",{class:"top"},null,-1)),o[7]||(o[7]=e("div",{class:"top-star1"},null,-1)),o[8]||(o[8]=e("div",{class:"top-star2"},null,-1)),A.value?(a(),i("div",ee)):c("",!0),A.value?(a(),i("div",{key:1,class:"bottom-star1",style:x({top:"".concat(C.value-344,"px")})},null,4)):c("",!0),A.value?(a(),i("div",{key:2,class:"bottom-star2",style:x({top:"".concat(C.value-344,"px")})},null,4)):c("",!0),e("div",oe,f(r(n.sprintf)(r(n._T)("我在{appname}等你来"),{appname:r(u).name})),1),e("div",te,[e("div",{class:b(["head",!t.value&&"head-room"]),style:x({backgroundImage:"url(".concat(t.value?_.value:v.value,")")})},[t.value?(a(),i("div",se)):c("",!0),t.value?(a(),i("div",ae,o[0]||(o[0]=[e("div",{class:"dot dot1"},null,-1),e("div",{class:"dot dot2"},null,-1),e("div",{class:"dot dot3"},null,-1)]))):c("",!0)],6),o[3]||(o[3]=e("div",{class:"icon2"},null,-1)),o[4]||(o[4]=e("div",{class:"icon3"},null,-1)),e("div",{class:b(["icon4",{weyay:r($)}])},null,2),t.value?c("",!0):(a(),i("div",ie)),o[5]||(o[5]=e("div",{class:"icon6"},null,-1)),e("div",{class:"card-content",style:x({justifyContent:t.value?"space-between":"flex-start"})},[e("div",ne,f(t.value?h.value:I.value),1),e("div",le,[P(f(t.value?T.value:w.value)+" ",1),t.value?(a(),i("div",re)):c("",!0),t.value?c("",!0):(a(),i("div",de,"  ID"))]),t.value?(a(),i("div",ce)):c("",!0),t.value?c("",!0):(a(),i("div",ue)),!t.value&&r(u).class!=="diwania"?(a(),i("div",{key:2,class:b(["icon8",{weyay:r($)}])},null,2)):c("",!0),t.value?(a(),i("div",me,[e("div",ve,[e("div",fe,f(I.value),1),e("div",pe,f(w.value)+"   ID",1)]),e("div",{class:"room-head",style:x({backgroundImage:"url(".concat(v.value,")")})},null,4)])):c("",!0)],4),e("span",_e,[e("div",{class:"button",dir:"auto",onClick:D},[o[1]||(o[1]=e("div",{class:"button-icon button-left"},null,-1)),P(" "+f(r(n.sprintf)(r(n._T)("下载并打开{appname}"),{appname:r(u).name}))+" ",1),o[2]||(o[2]=e("div",{class:"button-icon button-right"},null,-1))]),e("div",{class:b(["button-c",{"-isLudo":r(u).class==="jackaroo"}])},null,2)])])])]))}}),ke=L(we,[["__scopeId","data-v-f575fac1"]]);export{ke as default};
