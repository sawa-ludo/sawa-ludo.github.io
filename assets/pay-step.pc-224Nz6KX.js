import{O as se,r as J,ap as B,v as ye,aC as fe,an as O,ao as j,e as g,h as t,i as a,j as s,u as e,bk as W,l as Y,bl as _e,t as c,d as n,L as b,k as l,_ as S,H as E,n as V,N as he,bm as Ce,M as k,aa as X,V as Q,bn as $e,I as Z,bo as K,c as M,bp as oe,bq as ie,br as be,bs as ke,bt as ge,bu as xe,bv as Te,bw as Ie,bx as Pe,by as re,a0 as we,a1 as ve,a2 as L,a3 as N,a4 as Se,a5 as Re,a6 as Me,a7 as Ne,a8 as w,a9 as ce,R as le,S as de,U as ue,ab as z,bz as Ve,f as De,bA as Ae,bB as Ee,bC as ee,bD as Fe,ae as Le,ah as Be}from"./index-CDmsQ_GZ.js";import{s as A,a as U,L as Oe,S as me}from"./index-CvzVzj7Z.js";import{i as Ue,a as He,L as te}from"./index-KeB5mJVh.js";import{s as Ye,g as Ge}from"./model-BhHIws06.js";function je(){A.value?(console.log("side login",U.value),U.value.close(),A.value=!1):ye().skey?A.value=!0:B.push("/login?from=pay")}function Ke(){fe(Oe,{})}const ne=se("input",f=>{function _(){const v=O().currentPayChildPage;v===j.LIST?B.push("/home"):v===j.SWITCH?O().setCurrentPayChildPage(j.LIST):B.back()}return{exposed:{isLoginPage:J(B.currentRoute.value.name==="login"),back:_,change:je,pcLogin:Ke}}}),ze={class:"pcNav"},qe={class:"pcNavInner"},Je=g({__name:"index.pc",setup(f){const{back:_,change:o,pcLogin:i}=ne();return(v,r)=>{var h;return t(),a("div",ze,[s("div",qe,[e(W)()?(t(),a("div",{key:0,class:"pcNav__user",onClick:r[0]||(r[0]=(...u)=>e(o)&&e(o)(...u))},[s("div",{class:"pcNav__userIcon",style:Y(e(W)()?{backgroundImage:"url(".concat((h=e(_e)())==null?void 0:h.icon,")")}:{})},null,4)])):(t(),a("div",{key:1,class:"pcNav__login",onClick:r[1]||(r[1]=(...u)=>e(i)&&e(i)(...u))},c(e(n._T)("去登录")),1)),r[2]||(r[2]=s("div",{class:"pcNav__logo -ksa"},null,-1))]),e(A)?(t(),b(me,{key:0,ref_key:"sideLogin",ref:U,show:e(A)},null,8,["show"])):l("",!0)])}}}),We=S(Je,[["__scopeId","data-v-7a284667"]]),Xe={class:"phoneNav"},Qe={class:"titleContainer"},Ze={class:"name"},es={key:0,class:"subtitle"},ss=g({__name:"index.mobile",props:{title:{}},setup(f){const{back:_,change:o,isLoginPage:i}=ne();return(v,r)=>{var h;return t(),a(E,null,[s("div",Xe,[s("div",Qe,[s("div",Ze,c(v.title),1),e(Ue)?(t(),a("div",es,c(e(n._T)("支付环境安全")),1)):l("",!0)]),s("div",{class:"close",onClick:r[0]||(r[0]=(...u)=>e(_)&&e(_)(...u))}),e(i)?l("",!0):(t(),a("div",{key:0,class:"avatar",onClick:r[1]||(r[1]=(...u)=>e(o)&&e(o)(...u)),style:Y(e(W)()?{backgroundImage:"url(".concat((h=e(_e)())==null?void 0:h.icon,")")}:{})},null,4))]),e(A)?(t(),b(me,{key:0,ref_key:"sideLogin",ref:U,show:e(A)},null,8,["show"])):l("",!0)],64)}}}),ts=S(ss,[["__scopeId","data-v-c78acaaf"]]),ns={class:"nav-cc"},as={dir:"rtl"},os=g({__name:"index",props:{title:{}},setup(f,{expose:_}){const{exposed:o}=ne();return _(o),(i,v)=>(t(),a("div",ns,[s("div",{class:V(["mockDetecting",{showDetecting:e(He)}])},[s("p",as,c(e(n._T)("支付环境安全检测中...")),1)],2),e(he)()?(t(),b(We,{key:0})):(t(),b(ts,{key:1,title:i.title},null,8,["title"]))]))}}),is=S(os,[["__scopeId","data-v-cf228741"]]),rs=g({__name:"index",props:{scheme:{}},setup(f){function _(o){return o==="American Express"?"amex":o==="Visa"?"visa":o==="Diners Club"?"diners":o==="Discover"?"discover":o==="JCB"?"jcb":o==="Mastercard"?"mastercard":o==="apple_pay"?"apple":""}return(o,i)=>(t(),a("div",{class:V(["card-scheme",[_(o.scheme)]])},null,2))}}),H=S(rs,[["__scopeId","data-v-39e65328"]]),cs={key:0,class:"loading"},ls={class:"text"},ds={key:1,class:"card-content-c"},us={class:"card-num-c"},ps={class:"card-num"},_s={key:0,class:"expiry-warning-tips"},vs={class:"op-c"},ms={key:1,class:"card-num-c"},ys={key:2,class:"card-select"},fs=g({__name:"index",props:{card:{},isPulling:{type:Boolean},showPullingView:{type:Boolean}},setup(f,{expose:_}){const{exposed:o,onDelete:i,onUpdate:v,selected:r,isExpired:h,isPulling:u,showPullingView:p,isNearbyExpired:C}=Ce();return _(o),($,d)=>(t(),a("div",{class:"recently-item-c",onClick:d[2]||(d[2]=m=>e($e)($.card))},[e(p)?(t(),a(E,{key:0},[e(u)?(t(),a("div",cs)):l("",!0),s("div",ls,c(e(u)?e(n._T)("正在拉取卡号"):e(n._T)("没有拉取到卡号")),1)],64)):(t(),a("div",ds,[$.card.bin!=="000000"?(t(),a(E,{key:0},[s("div",us,[k(H,{scheme:$.card.scheme,class:"card-scheme-icon"},null,8,["scheme"]),s("div",ps,c("".concat($.card.bin,"******").concat($.card.last4)),1)]),e(h)||e(C)?(t(),a("div",_s,c(e(h)?e(n.sprintf)(e(n._T)("有效期({date})已过期，请更新卡片有效期"),{date:$.card.card_valid_date}):e(C)?e(n.sprintf)(e(n._T)("有效期({date})不足60天，请尽快更新卡片"),{date:$.card.card_valid_date}):""),1)):l("",!0),s("div",vs,[(e(h)||e(C))&&e(X)($.card)?(t(),a("div",{key:0,class:"update-expire btn",onClick:d[0]||(d[0]=Q(m=>e(v)($.card),["stop"]))},c(e(n._T)("更新有效期")),1)):l("",!0),s("div",{class:"delete-card btn",onClick:d[1]||(d[1]=Q((...m)=>e(i)&&e(i)(...m),["stop"]))},c(e(n._T)("删除卡号")),1)])],64)):(t(),a("div",ms,[k(H,{scheme:$.card.scheme,class:"card-scheme-icon"},null,8,["scheme"]),d[3]||(d[3]=s("div",{class:"card-num"},"Apple Pay",-1))]))])),e(r)?(t(),a("div",ys)):l("",!0)]))}}),q=S(fs,[["__scopeId","data-v-2b17fe44"]]),hs={class:"channel-list"},Cs=["onClick"],$s={key:0,class:"pay-name"},bs={key:1,class:"pay-banks"},ks={key:2,class:"apple-pay-c"},gs={key:3,class:"pay-active"},xs=g({__name:"index",setup(f,{expose:_}){const{exposed:o,availableChannelList:i,selectChannel:v,isChannelActive:r}=Ye();return _(o),(h,u)=>(t(),a("div",hs,[(t(!0),a(E,null,Z(e(i),p=>(t(),a("div",{key:p.displayName,class:"channel-item",onClick:C=>e(v)(p)},[p.displayName!==e(K).Apple?(t(),a("div",$s,c(p.displayName),1)):l("",!0),p.displayName!==e(K).Apple?(t(),a("div",bs,[(t(!0),a(E,null,Z(e(Ge)(p.displayName),C=>(t(),a("div",{class:V(["pay-bank",{["".concat(C)]:!0}]),key:C},null,2))),128))])):l("",!0),p.displayName===e(K).Apple?(t(),a("div",ks,u[0]||(u[0]=[s("div",{class:"icon"},null,-1),s("div",{class:"text"},"Apple Pay",-1)]))):l("",!0),e(r)(p)?(t(),a("div",gs)):l("",!0)],8,Cs))),128))]))}}),Ts="pay-drawer-home",Is={},Ps=se(Ts,()=>{const f=O(),_=J(!1);J(new Array(5).fill(0).map(d=>({to_uid:2003015796,source_id:"src_goxk47bx2tvura5gduimbo3ffi",last4:"4242",bin:"424242",scheme:"Visa",fingerprint:"D76FB3473F681816F11844CA43597C3DBE27029E9725FDC79BD6E94548FD30CD",issuer_country:"GB",card_valid_date:"03/33",h5_deviceid:"89c8f803c6fb0b868d19d0bea6900d4b",is_remember:!0,login:!1,uid:"",time_stamp:1713965288647})));const o=M(()=>{const d=f.savedCards;if(f.currentPayItem){const m=oe(f.currentPayItem);return m.indexOf(ie.CKO_CARD)>=0||m.indexOf(ie.ADYEN_CARD)>=0?be(d).filter(D=>ke(f.currentPayItem,D)).filter(D=>D.source_id).slice(0,3):[]}else throw new Error("currentPayItem为空")}),i=M(()=>{const d=f.savedCards;if(f.currentPayItem){const m=oe(f.currentPayItem);for(let I of ge)if(m.includes(I))return xe(d);return null}throw new Error("currentPayItem为空")}),v=M(()=>f.currentDisplayMethod),r=M(()=>f.currentPayType),h=M(()=>f.currentCard),u=M(()=>f.currentPayItem),p=M(()=>Te.value===Ie.拉取中&&Pe.value);function C(){}return{exposed:{isScrollTop:_,cards:o,currentCard:h,currentDisplayMethod:v,currentPayType:r,currentPayItem:u,appleCard:i,close:C,isPulling:p}}}),ws={class:"phome"},Ss={class:"drMoney__num"},Rs=["innerHTML"],Ms={class:"phome__way",dir:"auto"},Ns={class:"phome__area"},Vs={key:0,class:"phome__subtitle",dir:"auto"},Ds={class:"phome__section"},As={class:"phome__subtitle",dir:"auto"},Es={class:"phome__section"},Fs=g({__name:"home.pc",setup(f,{expose:_}){const{exposed:o,cards:i,currentPayItem:v,isScrollTop:r,appleCard:h,isPulling:u}=Ps();return _(o),(p,C)=>{var $,d;return t(),a("div",ws,[s("div",{class:V(["drMoney",{"-top":e(r)}])},[s("div",Ss,c("$".concat((($=e(v))==null?void 0:$.amount)||0)),1),s("div",{class:"drMoney__desc",dir:"auto",innerHTML:e(n.sprintf)(e(n._T)("获得{n}钻石"),{n:"<span class='drMoney__descSpan'>".concat((d=e(v))==null?void 0:d.coin,"</span>")})},null,8,Rs)],2),s("div",Ms,c(e(n._T)("选择支付方式")),1),s("div",Ns,[e(i).length>0?(t(),a("div",Vs,c(e(n._T)("最近使用")),1)):l("",!0),s("div",Ds,[e(h)?(t(),b(q,{key:0,class:"phome__item",card:e(h)},null,8,["card"])):l("",!0),e(u)?(t(),b(q,{key:1,class:"phome__item","show-pulling-view":e(u),"is-pulling":e(u),card:e(Is)},null,8,["show-pulling-view","is-pulling","card"])):l("",!0),(t(!0),a(E,null,Z(e(i),(m,I)=>(t(),b(q,{class:"phome__item",card:m,key:m.source_id},null,8,["card"]))),128)),e(i).length>0?(t(),a("div",{key:2,class:"phome__newcard",dir:"auto",onClick:C[0]||(C[0]=(...m)=>e(re)&&e(re)(...m))},c(e(n._T)("使用新的银行卡")),1)):l("",!0)]),s("div",As,c(e(n._T)("其他支付方式")),1),s("div",Es,[k(xs)])])])}}}),Ls=S(Fs,[["__scopeId","data-v-0ff78862"]]),Bs={class:"cko-frames-c"},Os={class:"drMoney__num"},Us={class:"frames-subtitle",dir:"auto"},Hs={class:"try-again-tips"},Ys={class:"try-again-btn"},Gs={class:"cvv-expiry-c"},js={key:1,class:"loading-c"},Ks=g({__name:"index.pc",setup(f,{expose:_}){const{exposed:o,onConfirm:i,cardHolderName:v,onNameChange:r,showFrames:h,cvvRef:u,expiryRef:p,cardRef:C,cardScheme:$,onNameBlur:d,onNameFocus:m,nameRef:I,onNameInput:D,btnDisable:y,currentPayItem:F,noRememberCard:x,showCvvTips:T}=we();return _(o),(ae,R)=>{var P;return t(),a("div",Bs,[s("div",{class:V(["drMoney -nano",{"-top":!1}])},[s("div",Os,c(e(n.sprintf)(e(n._T)("您正在支付{n}"),{n:"$".concat(((P=e(F))==null?void 0:P.amount)||"")})),1)]),s("div",Us,c(e(n._T)("填写银行卡信息")),1),e(x)?(t(),a("div",{key:0,class:"try-again",onClick:R[0]||(R[0]=G=>e(ve)(e(x)))},[s("div",Hs,c(e(n.sprintf)(e(n._T)("你上次使用过{card}，请问要用它进行支付吗？"),{card:"".concat(e(x).bin,"******").concat(e(x).last4)})),1),s("div",Ys,c(e(n._T)("是的，自动填写卡号")),1)])):l("",!0),s("div",{class:"frames-c",style:Y({opacity:e(h)?1:0})},[k(N,{title:e(n._T)("银行卡卡号"),"use-slot":!0,class:"card-number-frame-c","title-icon-class":"title-unused-icon","icon-class":"frames-unused-icon",ref_key:"cardRef",ref:C},{default:L(()=>[e($)?(t(),b(H,{key:0,scheme:e($),class:"card-scheme-icon"},null,8,["scheme"])):l("",!0),R[1]||(R[1]=s("div",{class:"card-number-frame"},null,-1))]),_:1},8,["title"]),k(N,{title:e(n._T)("持卡人名字"),class:"card-number-frame-c","title-icon-class":"title-unused-icon","icon-class":"frames-unused-icon","input-class":"holder-input",value:e(v),ref_key:"nameRef",ref:I,onchange:e(r),blur:e(d),input:e(D),focus:e(m)},null,8,["title","value","onchange","blur","input","focus"]),s("div",Gs,[k(N,{"use-slot":!0,title:"".concat(e(n._T)("(MM/YY)")+e(n._T)("有效时间")),class:"card-number-frame-c","title-icon-class":"title-unused-icon","icon-class":"frames-unused-icon",ref_key:"expiryRef",ref:p},{default:L(()=>R[2]||(R[2]=[s("div",{class:"expiry-date-frame"},null,-1)])),_:1},8,["title"]),k(N,{"use-slot":!0,title:e(n._T)("CVV"),class:"card-number-frame-c cvv-frame-c","title-icon-class":"cvv-title-icon",titleIconFunc:e(T),"icon-class":"frames-unused-icon",ref_key:"cvvRef",ref:u},{default:L(()=>R[3]||(R[3]=[s("div",{class:"cvv-frame"},null,-1)])),_:1},8,["title","titleIconFunc"])])],4),e(h)?l("",!0):(t(),a("div",js,[k(te)]))])}}}),zs=S(Ks,[["__scopeId","data-v-30b457c6"]]),qs={class:"cko-frames-c"},Js={class:"drMoney__num"},Ws={class:"frames-subtitle",dir:"auto"},Xs={class:"try-again-tips"},Qs={class:"try-again-btn"},Zs={class:"cvv-expiry-c"},et={key:1,class:"loading-c"},st=g({__name:"index.pc",setup(f,{expose:_}){const{exposed:o,onConfirm:i,cardHolderName:v,onNameChange:r,showFrames:h,cvvRef:u,expiryRef:p,cardRef:C,cardScheme:$,onNameBlur:d,onNameFocus:m,nameRef:I,onNameInput:D,btnDisable:y,currentPayItem:F,noRememberCard:x,show3DS:T,showCvvTips:ae}=Se();return _(o),(R,P)=>{var G;return t(),a("div",qs,[s("div",{class:V(["drMoney -nano",{"-top":!1}])},[s("div",Js,c(e(n.sprintf)(e(n._T)("您正在支付{n}"),{n:"$".concat(((G=e(F))==null?void 0:G.amount)||"")})),1)]),s("div",Ws,c(e(n._T)("填写银行卡信息")),1),e(x)?(t(),a("div",{key:0,class:"try-again",onClick:P[0]||(P[0]=Ht=>e(ve)(e(x)))},[s("div",Xs,c(e(n.sprintf)(e(n._T)("你上次使用过{card}，请问要用它进行支付吗？"),{card:"".concat(e(x).bin,"******").concat(e(x).last4)})),1),s("div",Qs,c(e(n._T)("是的，自动填写卡号")),1)])):l("",!0),s("div",{class:"frames-c",style:Y({opacity:e(h)?1:0}),id:"adyen-frame-c"},[k(N,{title:e(n._T)("银行卡卡号"),"use-slot":!0,class:"card-number-frame-c","title-icon-class":"title-unused-icon","icon-class":"frames-unused-icon",ref_key:"cardRef",ref:C},{default:L(()=>[e($)?(t(),b(H,{key:0,scheme:e($),class:"card-scheme-icon"},null,8,["scheme"])):l("",!0),P[1]||(P[1]=s("span",{"data-cse":"encryptedCardNumber",class:"card-number-frame"},null,-1))]),_:1},8,["title"]),k(N,{title:e(n._T)("持卡人名字"),class:"card-number-frame-c","title-icon-class":"title-unused-icon","icon-class":"frames-unused-icon","input-class":"holder-input",value:e(v),ref_key:"nameRef",ref:I,onchange:e(r),blur:e(d),input:e(D),focus:e(m)},null,8,["title","value","onchange","blur","input","focus"]),s("div",Zs,[k(N,{"use-slot":!0,title:"".concat(e(n._T)("(MM/YY)")+e(n._T)("有效时间")),class:"card-number-frame-c","title-icon-class":"title-unused-icon","icon-class":"frames-unused-icon",ref_key:"expiryRef",ref:p},{default:L(()=>P[2]||(P[2]=[s("span",{"data-cse":"encryptedExpiryDate",class:"expiry-date-frame"},null,-1)])),_:1},8,["title"]),k(N,{"use-slot":!0,title:e(n._T)("CVV"),class:"card-number-frame-c cvv-frame-c","title-icon-class":"cvv-title-icon",titleIconFunc:e(ae),"icon-class":"frames-unused-icon",ref_key:"cvvRef",ref:u},{default:L(()=>P[3]||(P[3]=[s("span",{"data-cse":"encryptedSecurityCode",class:"cvv-frame"},null,-1)])),_:1},8,["title","titleIconFunc"])]),s("div",{class:V(["confirm",{disable:e(y)}]),style:{opacity:0}},c(e(n._T)("确定")),3)],4),e(h)?l("",!0):(t(),a("div",et,[k(te)]))])}}}),tt=S(st,[["__scopeId","data-v-f85342f4"]]),nt=g({__name:"index.pc",setup(f,{expose:_}){const{exposed:o}=Re();return _(o),(i,v)=>e(Me)?(t(),b(zs,{key:0})):(t(),b(tt,{key:1}))}}),at={key:0},ot={class:"drMoney__num"},it={class:"frames-subtitle",dir:"auto"},rt={class:"pay-modal-desc"},ct={key:0},lt={key:1},dt={class:"pay-modal-cvv-c-with-tips"},ut={class:"card-icon-wrap"},pt={class:"tips",dir:"auto"},_t={class:"cvv-input-wrap"},vt={key:0,id:"cvv-input-c"},mt=["maxlength"],yt={key:1},ft={class:"drMoney__num"},ht={class:"frames-subtitle",dir:"auto"},Ct={class:"pay-modal-title-2"},$t={class:"pay-modal-card-c"},bt={key:0,class:"pay-modal-card"},kt={class:"pay-modal-cvv-c"},gt={class:"text-c"},xt={key:0,id:"cvv-input-c",class:"cvv-input"},Tt=["maxlength"],It={key:2,class:"cvv-loading-position"},pe=g({__name:"index.pc",setup(f,{expose:_}){const{exposed:o,curCVV:i,cvvLen:v,currentCard:r,showBackModal:h,onCVVInputChange:u,onCVVFocus:p,showCVVTips:C,confirmed:$,currentPayItem:d,show:m,step:I}=Ne();return _(o),(D,y)=>{var F,x;return t(),a(E,null,[e(I)===e(w).CARD_CVV?(t(),a("span",at,[s("div",{class:V(["drMoney -nano",{"-top":!1}])},[s("div",ot,c(e(n.sprintf)(e(n._T)("您正在支付{n}"),{n:"$".concat(((F=e(d))==null?void 0:F.amount)||"")})),1)]),s("div",it,c(e(n._T)("填写银行卡信息")),1),s("div",rt,[e(r)?(t(),a("span",ct,c(e(n.sprintf)(e(n._T)("请填写{card}的相关信息"),{card:"".concat(e(r).bin,"******").concat(e(r).last4)})),1)):(t(),a("span",lt,c(e(n._T)("currentCard为undefine")),1))]),s("div",dt,[s("div",ut,[y[9]||(y[9]=s("div",{class:"card-icon"},null,-1)),s("div",pt,c(e(n._T)("在卡背面的3位数字")),1)]),s("div",_t,[y[10]||(y[10]=s("div",{class:"text"},"CVV",-1)),y[11]||(y[11]=s("div",{class:"divider"},null,-1)),e(ce)(e(r))?(t(),a("div",vt)):l("",!0),e(X)(e(r))?le((t(),a("input",{key:1,class:"cvv-input frame-c input",style:{"user-select":"auto"},"onUpdate:modelValue":y[0]||(y[0]=T=>ue(i)?i.value=T:null),type:"text",maxlength:e(v),pattern:"[0-9]*",onInput:y[1]||(y[1]=Q((...T)=>e(u)&&e(u)(...T),["stop"])),onFocus:y[2]||(y[2]=()=>e(p)(!0)),onBlur:y[3]||(y[3]=()=>e(p)(!1))},null,40,mt)),[[de,e(i)]]):l("",!0)])])])):l("",!0),e(I)===e(w).CARD_CVV_IS_NOT_REMEMBER?(t(),a("span",yt,[s("div",{class:V(["drMoney -nano",{"-top":!1}])},[s("div",ft,c(e(n.sprintf)(e(n._T)("您正在支付{n}"),{n:"$".concat(((x=e(d))==null?void 0:x.amount)||"")})),1)]),s("div",ht,c(e(n._T)("填写银行卡信息")),1),s("div",Ct,c(e(n._T)("银行卡卡号")),1),s("div",$t,[e(z)?(t(),a("div",bt,c("".concat(e(z).bin,"******").concat(e(z).last4)),1)):l("",!0)]),s("div",kt,[s("div",gt,[s("div",{class:"icon",onClick:y[4]||(y[4]=(...T)=>e(C)&&e(C)(...T))}),y[12]||(y[12]=s("div",{class:"txt"},"CVV",-1))]),e(ce)(e(r))?(t(),a("div",xt)):l("",!0),e(X)(e(r))?le((t(),a("input",{key:1,class:"cvv-input input","onUpdate:modelValue":y[5]||(y[5]=T=>ue(i)?i.value=T:null),style:{"user-select":"auto"},maxlength:e(v),type:"text",pattern:"[0-9]*",onInput:y[6]||(y[6]=(...T)=>e(u)&&e(u)(...T)),onFocus:y[7]||(y[7]=()=>e(p)(!0)),onBlur:y[8]||(y[8]=()=>e(p)(!1))},null,40,Tt)),[[de,e(i)]]):l("",!0)])])):l("",!0),e(m)?l("",!0):(t(),a("div",It,[k(te)]))],64)}}}),Pt={class:"expcard cf"},wt={class:"expcardInfo",dir:"auto"},St={class:"expcardInfo right",dir:"auto"},Rt=g({__name:"index.pc",props:{update:{type:Function},onCancel:{type:Function},card:{},btnText:{}},setup(f,{expose:_}){const{exposed:o,cardno:i,onInput:v,expireInput:r,inputRef:h,isValid:u,onUpdate:p,date:C,title:$}=Ve();return _(o),(d,m)=>(t(),a("div",Pt,[s("div",wt,c(e($)),1),s("div",St,c(e(n._T)("新的有效期")),1),k(N,{class:"expcardInput",placeholder:"MM/YY",input:e(v),value:e(r),ref_key:"inputRef",ref:h},null,8,["input","value"])]))}}),Mt=S(Rt,[["__scopeId","data-v-b33672c4"]]),Nt="pay-drawer",Vt=se(Nt,f=>{const _=O(),o=M(()=>_.currentPayItemStep),i=M(()=>n.matchExpr(o.value,[[w.SAVED_CARD_LIST,""],[w.CARD_FRAME,n._T("填写卡信息")],[w.CARD_CVV,n._T("填写银行卡信息")],[w.CARD_CVV_IS_NOT_REMEMBER,n._T("填写银行卡信息")]]));function v(){f.props.onCancel&&f.props.onCancel()}function r(){Ae()}function h(){Ee()}function u(d){ee.value&&Fe(ee.value,d)}function p(){const d=window.navigator.userAgent,m=/OS (\d+)_?(\d+)?_?(\d+)?/.exec(d);return m?[parseInt(m[1],10),parseInt(m[2]||"0",10),parseInt(m[3]||"0",10)].join("."):null}function C(){try{const d=p(),m=d&&d.split(".")[0];if(console.log("ios version",m),m&&Number(m)<17)return{animation:"none"}}catch(d){return console.warn("ios version error",d),{}}return{}}const $={curStep:o,titleV:i,closePayDrawer:v,payNextStep:r,payPrevStep:h,update:u,isLowerThan17:C};return De(()=>{}),{exposed:$}}),Dt={class:""},At={class:"pstep cf"},Et={class:"psctrl"},Ft={class:"psecurity"},Lt={class:"psecurity__text"},Bt={key:5,id:"three-ds-c"},Ot=g({__name:"pay-step.pc",props:{onCancel:{type:Function}},setup(f,{expose:_}){const{exposed:o,curStep:i,payNextStep:v,payPrevStep:r,update:h}=Vt();return _(o),(u,p)=>(t(),a("div",Dt,[k(is),s("div",At,[e(i)===e(w).HOME?(t(),b(Ls,{key:0})):l("",!0),e(i)===e(w).CARD_FRAME?(t(),b(nt,{key:1})):l("",!0),e(i)===e(w).CARD_CVV?(t(),b(pe,{key:2})):l("",!0),e(i)===e(w).CARD_CVV_IS_NOT_REMEMBER?(t(),b(pe,{key:3})):l("",!0),e(i)===e(w).CKO_CARD_MODIFY_EXPIRE?(t(),b(Mt,{key:4,card:e(ee),update:e(h)},null,8,["card","update"])):l("",!0),s("div",Et,[s("div",{class:"psctrl__confirm -on",onClick:p[0]||(p[0]=(...C)=>e(v)&&e(v)(...C)),dir:"auto"},c(e(Le)()),1),s("div",{class:"psctrl__cancel",onClick:p[1]||(p[1]=(...C)=>e(r)&&e(r)(...C)),dir:"auto"},c(e(n._T)("返回上一步")),1)]),s("div",Ft,[s("div",Lt,c(e(n._T)("sawa全力保护你的信息安全")),1),p[2]||(p[2]=s("div",{class:"psecurity__icon"},null,-1))]),e(Be)?(t(),a("div",Bt)):l("",!0)])]))}}),Ut=S(Ot,[["__scopeId","data-v-0e398589"]]),zt=Object.freeze(Object.defineProperty({__proto__:null,default:Ut},Symbol.toStringTag,{value:"Module"}));export{H as C,is as N,Ut as P,q as R,xs as _,Vt as a,Is as n,zt as p,Ps as s};
